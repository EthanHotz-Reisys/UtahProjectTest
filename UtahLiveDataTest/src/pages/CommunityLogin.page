<!--
 Login Page for Communities
 ********************************************************** 
 Audit History
 **********************************************************
 4/27/2014   Manasi Gangal Created
 **********************************************************  
-->
<apex:page controller="CommunityLoginCtrl" standardstylesheets="false" showHeader="false" sidebar="false" >
    <c:ExternalLibrary />   
    
    
    <apex:includeScript value="{!URLFOR($Resource.GovGrantsExternal, 'ImageScroll/JS/unslider.js')}" />
    <apex:stylesheet value="{!URLFOR($Resource.GovGrantsExternal, 'ImageScroll/CSS/style.css')}" />  
   
    
    <apex:outputPanel id="scriptPanel"> 
         <script type="text/javascript">
            j$ = jQuery.noConflict();
            
            j$(function() {
                j$('.banner').unslider({
                speed: 500,               //  The speed to animate each slide (in milliseconds)
                delay: 3000,              //  The delay between slide animations (in milliseconds)
                complete: function() {},  //  A function that gets called after every slide animation
                keys: true,               //  Enable keyboard (left, right) arrow shortcuts
                dots: true,               //  Display dot navigation
                fluid: false              //  Support responsive design. May break non-responsive designs
            });
            
            });
            
            
            function checkAcceptTerms(){
                var isChecked = document.getElementById('accpeptTerms').checked;
                if(!isChecked){
                    alert('Please accept the terms before login!');
                    return false;
                }
                return true;
            }
            
        </script>
    </apex:outputPanel>
      <apex:composition template="GNT__PageTemplate">
        <apex:define name="content">
     <apex:form >
	 <GNT:PageMessages />
    <div class="bs">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 loginInsertpadding">
                    <div class="banner">
                        <ul >
                            <li style="background-image: url(http://unslider.com/img/subway.jpg); background-size: 100%;">Department of Health</li>
                            <li style="background-image: url(http://unslider.com/img/wood.jpg); background-size: 100%;"></li>
                            <li style="background-image: url(http://unslider.com/img/sunset.jpg); background-size: 100%;"></li>
                            <li style="background-image: url(http://unslider.com/img/shop.jpg); background-size: 100%;"></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 loginInsertpadding">
                    <div class="panel panel-default">
                        <div class="panel-body loginFieldsPanel">
                            <form role="form">
                                <span class="loginLabelColor loginHeaderLabelProperty">Existing Users</span>
                                <div class="form-group">
                                     <apex:inputText html-autofocus="autofocus"  html-type="email" value="{!username}" id="username" styleClass="form-control" />
                                </div>
                                <div class="form-group">
                                     <apex:inputSecret id="password" value="{!password}" styleClass="form-control" />
                                </div>
                            </form>
                            <div class="clearfix">
                                <div class="row">
                                   <div class="col-lg-12">
                                        <div class="input-group">
                                            <input type="checkbox" id="accpeptTerms" onclick="setAcceptTermsCookie();"/>
                                            <span onclick="window.open('{!acceptTermsURL}', '_blank','width=900, height=700,scrollbars=yes')" class="loginLabelColor link loginSubLabelProperty">Accept Terms</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                      <div class="col-lg-12">
                                        <apex:commandButton action="{!login}"  onclick="return checkAcceptTerms();" styleClass="customBtn" value="Login" />
                                      </div> 
                                </div>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <span class="loginLabelColor link loginSubLabelProperty" onclick="window.open('/'+ns+'CommunityForgotPasswordPage')">Forgot Password?</span>
                                    </div>
                                    <div class="col-lg-6">
                                        <span class="loginLabelColor link loginSubLabelProperty" onclick="window.open('/'+ns+'CommunitySelfRegistration')">New User?</span>
                                    </div>
                                </div> 
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
           
               <div class="row">
                <div class="col-lg-4 loginInsertpadding"><apex:include pageName="LoginWhatsNew"/></div>
                <div class="col-lg-4 loginInsertpadding"><apex:include pageName="LoginHighlights"/></div>
                <div class="col-lg-4 loginInsertpadding"><apex:include pageName="LoginTrends"/></div>
               </div>

        </div>
     </div>
   </apex:form> 
  </apex:define>
 </apex:composition>  
    <script>
        var acceptTermsChecked = j$.cookie('apex__CommunityAcceptTermChecked');
        var isApplicant = j$.cookie('apex__isApplicant');
        var isReviewer = j$.cookie('apex__isReviewer'); 
        var ns = '{!Namespace}';
        if(acceptTermsChecked == true || acceptTermsChecked == 'true'){
            document.getElementById('accpeptTerms').checked = true;
        }
        
        function setAcceptTermsCookie(){
            var isChecked = document.getElementById('accpeptTerms').checked;
            if(isChecked){
                j$.cookie('apex__CommunityAcceptTermChecked', 'true');
            }
        }
          </script>
</apex:page>